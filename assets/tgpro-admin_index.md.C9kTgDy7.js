import{_ as s,o as i,c as a,ag as e}from"./chunks/framework.xaA4a_mV.js";const q=JSON.parse('{"title":"TGPro Admin 部署指南","description":"TGPro Admin 系统部署与配置文档","frontmatter":{"title":"TGPro Admin 部署指南","description":"TGPro Admin 系统部署与配置文档","layout":"doc","sidebar":true,"aside":true,"outline":[2,3],"lastUpdated":true},"headers":[],"relativePath":"tgpro-admin/index.md","filePath":"tgpro-admin/index.md"}'),n={name:"tgpro-admin/index.md"};function l(o,t,p,h,u,r){return i(),a("div",null,[...t[0]||(t[0]=[e(`<h1 id="tgpro-admin" tabindex="-1">TGPro Admin <a class="header-anchor" href="#tgpro-admin" aria-label="Permalink to &quot;TGPro Admin&quot;">​</a></h1><p><strong>TGPro Admin</strong> 是一套功能强大的 Telegram 机器人管理系统，支持 USDT (TRC20) 和 TON 支付，集成了自动发货、用户管理、数据统计等功能。通过现代化的 Web 管理后台，您可以轻松管理机器人配置和业务数据。</p><h2 id="环境要求" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="title-icon"><rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line></svg> 环境要求 <a class="header-anchor" href="#环境要求" aria-label="Permalink to &quot;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;title-icon&quot;&gt;&lt;rect x=&quot;4&quot; y=&quot;4&quot; width=&quot;16&quot; height=&quot;16&quot; rx=&quot;2&quot; ry=&quot;2&quot;&gt;&lt;/rect&gt;&lt;rect x=&quot;9&quot; y=&quot;9&quot; width=&quot;6&quot; height=&quot;6&quot;&gt;&lt;/rect&gt;&lt;line x1=&quot;9&quot; y1=&quot;1&quot; x2=&quot;9&quot; y2=&quot;4&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;15&quot; y1=&quot;1&quot; x2=&quot;15&quot; y2=&quot;4&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;9&quot; y1=&quot;20&quot; x2=&quot;9&quot; y2=&quot;23&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;15&quot; y1=&quot;20&quot; x2=&quot;15&quot; y2=&quot;23&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;20&quot; y1=&quot;9&quot; x2=&quot;23&quot; y2=&quot;9&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;20&quot; y1=&quot;14&quot; x2=&quot;23&quot; y2=&quot;14&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;1&quot; y1=&quot;9&quot; x2=&quot;4&quot; y2=&quot;9&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;1&quot; y1=&quot;14&quot; x2=&quot;4&quot; y2=&quot;14&quot;&gt;&lt;/line&gt;&lt;/svg&gt; 环境要求&quot;">​</a></h2><p>在开始部署之前，请确保您的服务器满足以下最低要求：</p><ul><li><strong>操作系统</strong>: Linux (推荐 Ubuntu 20.04+)</li><li><strong>容器环境</strong>: <ul><li>Docker 20.10 或更高版本</li><li>Docker Compose 2.0 或更高版本</li></ul></li><li><strong>硬件配置</strong>: <ul><li>内存: 2GB+</li><li>磁盘: 10GB+ 可用空间</li></ul></li></ul><h2 id="部署步骤" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="title-icon"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> 部署步骤 <a class="header-anchor" href="#部署步骤" aria-label="Permalink to &quot;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;title-icon&quot;&gt;&lt;path d=&quot;M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4&quot;&gt;&lt;/path&gt;&lt;polyline points=&quot;7 10 12 15 17 10&quot;&gt;&lt;/polyline&gt;&lt;line x1=&quot;12&quot; y1=&quot;15&quot; x2=&quot;12&quot; y2=&quot;3&quot;&gt;&lt;/line&gt;&lt;/svg&gt; 部署步骤&quot;">​</a></h2><h3 id="_1-上传项目文件" tabindex="-1">1. 上传项目文件 <a class="header-anchor" href="#_1-上传项目文件" aria-label="Permalink to &quot;1. 上传项目文件&quot;">​</a></h3><p>将整个 <code>tgpro-admin</code> 目录上传至您的服务器目标位置。</p><h3 id="_2-初始化配置" tabindex="-1">2. 初始化配置 <a class="header-anchor" href="#_2-初始化配置" aria-label="Permalink to &quot;2. 初始化配置&quot;">​</a></h3><p>进入项目目录，复制示例配置文件并进行编辑：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tgpro-admin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env.example</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 或使用 vim/vi 编辑</span></span></code></pre></div><h3 id="_3-关键配置项" tabindex="-1">3. 关键配置项 <a class="header-anchor" href="#_3-关键配置项" aria-label="Permalink to &quot;3. 关键配置项&quot;">​</a></h3><p>为了保证系统正常运行，您<strong>必须</strong>修改以下配置：</p><table tabindex="0"><thead><tr><th style="text-align:left;">配置项</th><th style="text-align:left;">说明</th><th style="text-align:left;">示例/备注</th></tr></thead><tbody><tr><td style="text-align:left;"><code>BOT_TOKEN</code></td><td style="text-align:left;">Telegram 机器人 Token</td><td style="text-align:left;">从 @BotFather 获取</td></tr><tr><td style="text-align:left;"><code>BOT_CONTROL_ADDRESS</code></td><td style="text-align:left;">USDT (TRC20) 收款地址</td><td style="text-align:left;">您的波场钱包地址</td></tr><tr><td style="text-align:left;"><code>BOT_ADMIN_ID</code></td><td style="text-align:left;">管理员 Telegram ID</td><td style="text-align:left;">用于接收通知和权限验证</td></tr><tr><td style="text-align:left;"><code>ResHash</code> / <code>ResCookie</code></td><td style="text-align:left;">Fragment.com 认证信息</td><td style="text-align:left;">用于相关高级功能</td></tr><tr><td style="text-align:left;"><code>WalletMnemonic</code></td><td style="text-align:left;">TON 钱包助记词</td><td style="text-align:left;">用于处理 TON 支付</td></tr><tr><td style="text-align:left;"><code>DEBUG_PASSWORD</code></td><td style="text-align:left;">后台登录密码</td><td style="text-align:left;">请设置强密码</td></tr></tbody></table><h3 id="_4-启动服务" tabindex="-1">4. 启动服务 <a class="header-anchor" href="#_4-启动服务" aria-label="Permalink to &quot;4. 启动服务&quot;">​</a></h3><p>确认配置无误后，使用 Docker Compose 一键启动所有服务：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><p>此命令将自动拉取镜像、构建容器并在后台运行服务。</p><h2 id="系统管理" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="title-icon"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg> 系统管理 <a class="header-anchor" href="#系统管理" aria-label="Permalink to &quot;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;title-icon&quot;&gt;&lt;rect x=&quot;3&quot; y=&quot;3&quot; width=&quot;18&quot; height=&quot;18&quot; rx=&quot;2&quot; ry=&quot;2&quot;&gt;&lt;/rect&gt;&lt;line x1=&quot;3&quot; y1=&quot;9&quot; x2=&quot;21&quot; y2=&quot;9&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;9&quot; y1=&quot;21&quot; x2=&quot;9&quot; y2=&quot;9&quot;&gt;&lt;/line&gt;&lt;/svg&gt; 系统管理&quot;">​</a></h2><h3 id="访问后台" tabindex="-1">访问后台 <a class="header-anchor" href="#访问后台" aria-label="Permalink to &quot;访问后台&quot;">​</a></h3><p>服务启动成功后，您可以通过浏览器访问管理后台：</p><ul><li><strong>后台地址</strong>: <code>http://服务器IP:54699/fgxkd4ho</code></li><li><strong>默认账号</strong>: <code>admin</code></li><li><strong>默认密码</strong>: 您在 <code>.env</code> 中设置的 <code>DEBUG_PASSWORD</code></li></ul><div class="tip custom-block"><p class="custom-block-title">安全建议</p><p>建议在 Nginx 反向代理层配置 SSL 证书，并通过域名访问，以提高安全性。</p></div><h3 id="查看日志" tabindex="-1">查看日志 <a class="header-anchor" href="#查看日志" aria-label="Permalink to &quot;查看日志&quot;">​</a></h3><p>如果遇到问题，可以通过查看日志进行排查：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看所有服务实时日志</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看机器人服务日志</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tgpro-bot</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看 Web 后台服务日志</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tgpro-app</span></span></code></pre></div><h3 id="常用运维命令" tabindex="-1">常用运维命令 <a class="header-anchor" href="#常用运维命令" aria-label="Permalink to &quot;常用运维命令&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重启所有服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重启单个服务 (如 bot)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bot</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 更新代码/配置后重新构建并启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 停止并删除所有容器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看容器运行状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ps</span></span></code></pre></div><h2 id="目录结构说明" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="title-icon"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg> 目录结构说明 <a class="header-anchor" href="#目录结构说明" aria-label="Permalink to &quot;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; class=&quot;title-icon&quot;&gt;&lt;path d=&quot;M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z&quot;&gt;&lt;/path&gt;&lt;polyline points=&quot;14 2 14 8 20 8&quot;&gt;&lt;/polyline&gt;&lt;line x1=&quot;16&quot; y1=&quot;13&quot; x2=&quot;8&quot; y2=&quot;13&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;16&quot; y1=&quot;17&quot; x2=&quot;8&quot; y2=&quot;17&quot;&gt;&lt;/line&gt;&lt;polyline points=&quot;10 9 9 9 8 9&quot;&gt;&lt;/polyline&gt;&lt;/svg&gt; 目录结构说明&quot;">​</a></h2><p>了解项目结构有助于您更好地维护系统：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>tgpro-admin/</span></span>
<span class="line"><span>├── .env                    # 环境配置文件（核心敏感配置）</span></span>
<span class="line"><span>├── .env.example           # 配置模板文件</span></span>
<span class="line"><span>├── docker-compose.yml     # Docker 容器编排配置</span></span>
<span class="line"><span>├── Dockerfile             # Web 前端/后端构建文件</span></span>
<span class="line"><span>├── database/</span></span>
<span class="line"><span>│   └── init.sql           # 数据库初始化脚本</span></span>
<span class="line"><span>└── hf-tgpro/              # 机器人核心目录</span></span>
<span class="line"><span>    ├── Dockerfile         # 机器人环境构建文件</span></span>
<span class="line"><span>    ├── hy.py              # 机器人主程序入口</span></span>
<span class="line"><span>    ├── main               # TON 支付处理二进制程序</span></span>
<span class="line"><span>    └── keyword_replies.json # 自动回复规则配置</span></span></code></pre></div>`,31)])])}const g=s(n,[["render",l]]);export{q as __pageData,g as default};
